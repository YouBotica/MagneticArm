<?xml version="1.0" encoding="utf-8"?>
<!-- This URDF was automatically created by SolidWorks to URDF Exporter! Originally created by Stephen Brawner (brawner@gmail.com) 
     Commit Version: 1.5.1-0-g916b5db  Build Version: 1.5.7152.31018
     For more information, please see http://wiki.ros.org/sw_urdf_exporter -->
<robot  xmlns:xacro="http://www.ros.org/wiki/xacro" name="magnetic_robot">
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="-5.57014653655014E-08 -1.64017849302311E-09 0.0110503085439139"
        rpy="0 0 0" />
      <mass
        value="1.8830632182665" />
      <inertia
        ixx="0.01"
        ixy="0.001"
        ixz="0.001"
        iyy="2.96212096421729E-04"
        iyz="0.01"
        izz="3.9033000095211E-04" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.2 0.2 0.2 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>

  <gazebo reference="base_link">
  <selfCollide>true</selfCollide>
    <mu1>100</mu1>
    <mu2>100</mu2>
    <kp>100000000</kp>
    <kd>1</kd>
    <material>Gazebo/Gray</material>
  </gazebo>  

  <link name="world"/>
  <joint name="world_joint" type="fixed">
    <parent link="world" />
    <child link = "base_link" />
    <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0" />
  </joint>

  <link
    name="link_1">
    <inertial>
      <origin
        xyz="8.68581727226907E-05 -0.00235577044185772 0.0132126846360901"
        rpy="0 0 0" />
      <mass
        value="0.0912441845049387" />
      <inertia
        ixx="1.34794669597026E-05"
        ixy="4.26135810925192E-11"
        ixz="-1.07071321881178E-10"
        iyy="1.99127119696254E-05"
        iyz="2.53942240626904E-06"
        izz="1.57031342244081E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_1.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.647058823529412 0.619607843137255 0.588235294117647 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_1.STL" />
      </geometry>
    </collision>
  </link>

  <gazebo reference="link_1">
    <selfCollide>true</selfCollide>
    <mu1>0.1</mu1>
    <mu2>0.1</mu2>
    <kp>1000000</kp>
    <kd>0.1</kd>
    <material>Gazebo/Gray</material>
  </gazebo>  

  <joint
    name="joint_base_1"
    type="continuous">
    <origin
      xyz="0 0 0.025"
      rpy="0 0 0" />
    <parent
      link="base_link" />
    <child
      link="link_1" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.1416"
      upper="3.1416"
      effort="1000"
      velocity="10" />
  </joint>

  <link
    name="link_2">
    <inertial>
      <origin
        xyz="-0.013135555797142 0.0231580521879061 -0.0087311072192781"
        rpy="0 0 0" />
      <mass
        value="0.059523127189033" />
      <inertia
        ixx="9.7062317916233E-06"
        ixy="3.75868735899246E-06"
        ixz="9.78467603078216E-12"
        iyy="5.23021359295035E-06"
        iyz="2.43792885803872E-12"
        izz="1.043876410738E-05" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_2.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_2.STL" />
      </geometry>
    </collision>
  </link>

  <gazebo reference="link_2">
    <selfCollide>true</selfCollide>
    <mu1>0.1</mu1>
    <mu2>0.1</mu2>
    <kp>1000000</kp>
    <kd>1000</kd>
    <material>Gazebo/Gray</material>
  </gazebo>  

  <joint
    name="joint_12"
    type="revolute">
    <origin
      xyz="0.009 -0.0075 0.025"
      rpy="0 1.5707963267949 0" />
    <parent
      link="link_1" />
    <child
      link="link_2" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.1416"
      upper="3.1416"
      effort="1000"
      velocity="19" />
  </joint>
  <link
    name="link_3">
    <inertial>
      <origin
        xyz="-0.0130925655663325 -0.0125488665688617 -0.00876095486401757"
        rpy="0 0 0" />
      <mass
        value="0.0167127175588588" />
      <inertia
        ixx="3.19071360572348E-06"
        ixy="-1.92500426604351E-06"
        ixz="-4.57854995746172E-12"
        iyy="2.33463820007968E-06"
        iyz="-1.43136381354954E-12"
        izz="4.69810708217055E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_3.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_3.STL" />
      </geometry>
    </collision>
  </link>

  <gazebo reference="link_3">
    <selfCollide>true</selfCollide>
    <mu1>200</mu1>
    <mu2>200</mu2>
    <kp>1000000</kp>
    <kd>0.1</kd>
    <material>Gazebo/Gray</material>
  </gazebo>  

  <joint
    name="joint_23"
    type="revolute">
    <origin
      xyz="-0.0275 0.047631 0"
      rpy="0 0 0" />
    <parent
      link="link_2" />
    <child
      link="link_3" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.1416"
      upper="3.1416"
      effort="1000"
      velocity="10" />
  </joint>

  <link
    name="link_4">
    <inertial>
      <origin
        xyz="-0.00094099689764271 -0.0107556857698121 -0.00399997580729407"
        rpy="0 0 0" />
      <mass
        value="0.00201825548540404" />
      <inertia
        ixx="5.89781128180612E-08"
        ixy="-2.86315870000121E-09"
        ixz="-1.00493667739962E-14"
        iyy="2.65031153578674E-08"
        iyz="-9.52110747189026E-14"
        izz="5.93208326449624E-08" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_4.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="1 1 1 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_4.STL" />
      </geometry>
    </collision>
  </link>

  <gazebo reference="link_4">
    <selfCollide>true</selfCollide>
    <mu1>200</mu1>
    <mu2>200</mu2>
    <kp>1000000</kp>
    <kd>0.1</kd>
    <material>Gazebo/Gray</material>
  </gazebo>  

  <joint
    name="joint_34"
    type="revolute">
    <origin
      xyz="-0.030931 -0.036329 -0.005"
      rpy="0 0 0" />
    <parent
      link="link_3" />
    <child
      link="link_4" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.1416"
      upper="3.1416"
      effort="1000"
      velocity="10" />
  </joint>
  <link
    name="link_5">
    <inertial>
      <origin
        xyz="-3.3570849344855E-07 -0.0010132605222575 0.0221547651415002"
        rpy="0 0 0" />
      <mass
        value="0.000582788402747154" />
      <inertia
        ixx="1.22340432440526E-07"
        ixy="3.4644749291343E-13"
        ixz="-1.32119462585196E-12"
        iyy="1.23522113403962E-07"
        iyz="4.5113116911049E-09"
        izz="4.6412810957294E-07" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_5.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.898039215686275 0.917647058823529 0.929411764705882 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_5.STL" />
      </geometry>
    </collision>
  </link>

  <gazebo reference="link_5">
    <selfCollide>true</selfCollide>
    <mu1>2000</mu1>
    <mu2>2000</mu2>
    <kp>100000</kp>
    <kd>0.1</kd>
    <material>Gazebo/Gray</material>
  </gazebo>  

  <joint
    name="joint_45"
    type="continuous">
    <origin
      xyz="-0.0014816 -0.016935 -0.004"
      rpy="1.6581 -1.5708 0" />
    <parent
      link="link_4" />
    <child
      link="link_5" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="-3.1416"
      upper="3.1416"
      effort="1000"
      velocity="10" />
  </joint>
  <link
    name="link_6">
    <inertial>
      <origin
        xyz="-0.00165060250118423 -0.000963134335252681 -0.00350018544178326"
        rpy="0 0 0" />
      <mass
        value="0.000328267824519601" />
      <inertia
        ixx="3.14748408996174E-08"
        ixy="3.23397330057597E-09"
        ixz="1.6258187546536E-13"
        iyy="2.24847608021575E-09"
        iyz="-9.59349277431484E-13"
        izz="3.04814390264029E-08" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_6.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.898039215686275 0.917647058823529 0.929411764705882 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://magnetic_robot/meshes/link_6.STL" />
      </geometry>
    </collision>
  </link>

  <gazebo reference="link_6">
    <selfCollide>true</selfCollide>
    <mu1>200</mu1>
    <mu2>200</mu2>
    <kp>1000000</kp>
    <kd>0.1</kd>
    <material>Gazebo/Gray</material>
  </gazebo>  

  <joint
    name="joint_56"
    type="revolute">
    <origin
      xyz="0.0035 0.0023938 0.030443"
      rpy="-1.5708 0.087266 -1.5708" />
    <parent
      link="link_5" />
    <child
      link="link_6" />
    <axis
      xyz="0 0 1" />
    <limit
      lower="0"
      upper="0"
      effort="1000"
      velocity="10" />
  </joint>

  <!--gazebo>
    <plugin name="gazebo_ros_joint_state_publisher"
        filename="libgazebo_ros_joint_state_publisher.so">
        <update_rate>1000</update_rate>
        <joint_name>joint_base_1</joint_name>
        <joint_name>joint_12</joint_name>
        <joint_name>joint_23</joint_name>
        <joint_name>joint_34</joint_name>
        <joint_name>joint_45</joint_name>
        <joint_name>joint_56</joint_name>
    </plugin>
  </gazebo-->

  <!-- R2 Gazebo Joint config -->
  <ros2_control name="GazeboSystem" type="system">
    <hardware>
      <plugin>gazebo_ros2_control/GazeboSystem</plugin>
    </hardware>    
    <joint name="joint_base_1">
      <command_interface name="effort">
        <param name="min">-3.14159</param>
        <param name="max">3.14159</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="joint_12">
      <command_interface name="effort">
        <param name="min">-3.14159</param>
        <param name="max">3.14159</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="joint_23">
      <command_interface name="effort">
        <param name="min">-3.14159</param>
        <param name="max">3.14159</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="joint_34">
      <command_interface name="effort">
        <param name="min">-3.14159</param>
        <param name="max">3.14159</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="joint_45">
      <command_interface name="effort">
        <param name="min">-3.14159</param>
        <param name="max">3.14159</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="joint_56">
      <command_interface name="effort">
        <param name="min">-3.14159</param>
        <param name="max">3.14159</param>
      </command_interface>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>


  <gazebo>
    <plugin filename="libgazebo_ros2_control.so" name="gazebo_ros2_control">
      <parameters>/home/legacy/magnetic_arm/src/magnetic_robot/config/effort_controller.yaml</parameters>
    </plugin>
  </gazebo>

</robot>